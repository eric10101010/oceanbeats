(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c25a26e"],{"00f6":function(t,e,c){},"1dde":function(t,e,c){var n=c("d039"),i=c("b622"),r=c("2d00"),o=i("species");t.exports=function(t){return r>=51||!n((function(){var e=[],c=e.constructor={};return c[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,c){"use strict";var n=c("23e7"),i=c("5a34"),r=c("1d80"),o=c("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(r(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,c){var n=c("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},8418:function(t,e,c){"use strict";var n=c("c04e"),i=c("9bf2"),r=c("5c6c");t.exports=function(t,e,c){var o=n(e);o in t?i.f(t,o,r(0,c)):t[o]=c}},8654:function(t,e,c){"use strict";c("00f6")},"99af":function(t,e,c){"use strict";var n=c("23e7"),i=c("d039"),r=c("e8b5"),o=c("861d"),a=c("7b0b"),s=c("50c4"),l=c("8418"),d=c("65f0"),u=c("1dde"),h=c("b622"),b=c("2d00"),f=h("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",p=b>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),O=u("concat"),g=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:r(t)},j=!p||!O;n({target:"Array",proto:!0,forced:j},{concat:function(t){var e,c,n,i,r,o=a(this),u=d(o,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?o:arguments[e],g(r)){if(i=s(r.length),h+i>v)throw TypeError(m);for(c=0;c<i;c++,h++)c in r&&l(u,h,r[c])}else{if(h>=v)throw TypeError(m);l(u,h++,r)}return u.length=h,u}})},a434:function(t,e,c){"use strict";var n=c("23e7"),i=c("23cb"),r=c("a691"),o=c("50c4"),a=c("7b0b"),s=c("65f0"),l=c("8418"),d=c("1dde"),u=d("splice"),h=Math.max,b=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var c,n,d,u,m,p,O=a(this),g=o(O.length),j=i(t,g),y=arguments.length;if(0===y?c=n=0:1===y?(c=0,n=g-j):(c=y-2,n=b(h(r(e),0),g-j)),g+c-n>f)throw TypeError(v);for(d=s(O,n),u=0;u<n;u++)m=j+u,m in O&&l(d,u,O[m]);if(d.length=n,c<n){for(u=j;u<g-n;u++)m=u+n,p=u+c,m in O?O[p]=O[m]:delete O[p];for(u=g;u>g-n+c;u--)delete O[u-1]}else if(c>n)for(u=g-n;u>j;u--)m=u+n-1,p=u+c-1,m in O?O[p]=O[m]:delete O[p];for(u=0;u<c;u++)O[u+j]=arguments[u+2];return O.length=g-n+c,d}})},ab13:function(t,e,c){var n=c("b622"),i=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(c){try{return e[i]=!1,"/./"[t](e)}catch(n){}}return!1}},b6d4:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),i=Object(n["h"])("div",{class:"banner container-fluid d-flex align-items-center justify-content-center my-5"},[Object(n["h"])("div",{class:"row banner-box p-3 w-100"},[Object(n["h"])("div",{class:"text-white text-center "},[Object(n["h"])("h2",{class:"text-center p-4"},"我的收藏")])])],-1),r={key:0,class:"container d-flex flex-column align-items-center mt-6"},o={class:"row"},a=Object(n["h"])("div",{class:"col-12"},[Object(n["h"])("h2",{class:"h2 text-center mb-4 fw-bolder"},[Object(n["g"])(" 收藏清單內"),Object(n["h"])("br"),Object(n["g"])("目前沒有商品唷! ")])],-1),s=Object(n["h"])("h3",{class:"h4 my-2"},"返回購物列表",-1),l={key:1,class:"container my-5"},d=Object(n["h"])("div",{class:"title bg-secondary py-2 text-light text-center"},[Object(n["h"])("h3",null,"收藏清單")],-1),u={class:"border border-third p-5"},h={class:"table"},b=Object(n["h"])("thead",null,[Object(n["h"])("tr",{class:"text-center d-md-table-row border-bottom border-third"},[Object(n["h"])("th",{class:"border-bottom-0",style:{width:"25%"}},"商品"),Object(n["h"])("th",{class:"text-center border-bottom-0",style:{width:"25%"}},"售價"),Object(n["h"])("th",{class:"border-bottom-0",style:{width:"25%"}},"購物車"),Object(n["h"])("th",{class:"border-bottom-0",style:{width:"25%"}},"刪除")])],-1),f={class:"pt-2"},v={class:"d-flex flex-column align-items-center"},m={class:"d-lg-block d-md-none d-sm-none d-none mt-2"},p={class:"text-center"},O={class:"fw-bold mb-0 mb-sm-2"},g={class:"addCart"},j=Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-cart"})],-1),y={class:"btn btn-sm btn-outline-danger"},x=Object(n["h"])("span",null,[Object(n["h"])("i",{class:"bi bi-trash"})],-1),w={class:"text-center pt-4"},F=Object(n["g"])("返回購物");function S(t,e,c,S,k,L){var C=Object(n["C"])("router-link");return Object(n["v"])(),Object(n["d"])(n["a"],null,[i,0==k.favoriteProduct.length?(Object(n["v"])(),Object(n["d"])("div",r,[Object(n["h"])("div",o,[a,Object(n["h"])(C,{to:"/products",class:"btn btn-secondary text-white my-6"},{default:Object(n["O"])((function(){return[s]})),_:1})])])):(Object(n["v"])(),Object(n["d"])("div",l,[d,Object(n["h"])("div",u,[Object(n["h"])("table",h,[b,Object(n["h"])("tbody",null,[(Object(n["v"])(!0),Object(n["d"])(n["a"],null,Object(n["B"])(k.favoriteProduct,(function(t){return Object(n["v"])(),Object(n["d"])("tr",{key:t,class:"align-middle text-center"},[Object(n["h"])("th",f,[Object(n["h"])("div",v,[Object(n["h"])("img",{src:t.product.imageUrl,alt:t.product.title,style:{width:"100px"}},null,8,["src","alt"]),Object(n["h"])("p",m,Object(n["F"])(t.product.title),1)])]),Object(n["h"])("td",p,[Object(n["h"])("p",O,Object(n["F"])(t.product.price),1)]),Object(n["h"])("td",g,[Object(n["h"])("button",{class:"btn btn-sm border border-secondary",style:{"font-size":"20px"},onClick:Object(n["Q"])((function(e){return L.addCart(t.product.id)}),["prevent"])},[j],8,["onClick"])]),Object(n["h"])("td",null,[Object(n["h"])("div",y,[Object(n["h"])("a",{disabled:k.status.loadingItem===t.id,onClick:Object(n["Q"])((function(e){return L.removeFavoriteItem(t)}),["prevent"]),style:{"font-size":"20px"}},[x],8,["disabled","onClick"])])])])})),128))])]),Object(n["h"])("div",w,[Object(n["h"])(C,{class:"btn btn-secondary text-white",to:"/products"},{default:Object(n["O"])((function(){return[F]})),_:1})])])]))],64)}c("159b"),c("99af"),c("a434");var k=c("e4f3"),L=c("ee2f"),C={data:function(){return{buyNum:1,status:{loadingItem:""},myFavorite:[],favoriteProduct:[]}},inject:["emitter"],mixins:[L["a"]],methods:{getFavorite:function(){var t=this;this.myFavorite=this.getLocalStorage()||[],this.favoriteProduct=[],this.isLoading=!0,this.myFavorite.length>0?this.myFavorite.forEach((function(e){var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("item666","/product/").concat(e);t.$http.get(c).then((function(e){e.data.success?(t.favoriteProduct.push(e.data),console.log(e.data),t.isLoading=!1):t.isLoading=!1})).catch((function(){t.$swal({title:"發生錯誤，請重新整理此頁面</p>",icon:"error"})}))})):this.isLoading=!1},addCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("item666","/cart");this.$http.post(c,{data:{product_id:t,qty:this.buyNum}}).then((function(t){console.log(t.data),console.log(t.data),k["a"].emit("update-cart"),e.$swal({title:"成功加入購物車",icon:"success"})})).catch((function(t){return console.log(t)}))},removeFavoriteItem:function(t){this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.saveLocalStorage(this.myFavorite),k["a"].emit("update-favorite"),this.isLoading=!0,this.$swal({title:"商品已從收藏中移除",icon:"success"}),this.getFavorite()}},mounted:function(){this.getFavorite()}};c("8654");C.render=S;e["default"]=C},caad:function(t,e,c){"use strict";var n=c("23e7"),i=c("4d64").includes,r=c("44d2");n({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e4f3:function(t,e,c){"use strict";var n=function(t){return{all:t=t||new Map,on:function(e,c){var n=t.get(e);n?n.push(c):t.set(e,[c])},off:function(e,c){var n=t.get(e);n&&(c?n.splice(n.indexOf(c)>>>0,1):t.set(e,[]))},emit:function(e,c){var n=t.get(e);n&&n.slice().map((function(t){t(c)})),(n=t.get("*"))&&n.slice().map((function(t){t(e,c)}))}}},i=n();e["a"]=i},ee2f:function(t,e,c){"use strict";c("caad"),c("2532"),c("a434");e["a"]={methods:{saveLocalStorage:function(t){var e=JSON.stringify(t);localStorage.setItem("saveFavorite",e)},getLocalStorage:function(){return JSON.parse(localStorage.getItem("saveFavorite"))},addFavorite:function(t){this.myFavorite.includes(t.id)?(this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.saveLocalStorage(this.myFavorite),this.$swal({title:"商品已從收藏清單中移除",icon:"success"})):(this.myFavorite.push(t.id),this.$swal({title:"商品已加入收藏清單",icon:"success"})),this.saveLocalStorage(this.myFavorite)}},inject:["emitter"]}}}]);
//# sourceMappingURL=chunk-9c25a26e.5e587536.js.map